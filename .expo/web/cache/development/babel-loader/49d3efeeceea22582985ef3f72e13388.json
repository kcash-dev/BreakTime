{"ast":null,"code":"var _jsxFileName = \"/Users/kylecash/Documents/GitHub/BreakTime/node_modules/react-native-chart-kit/dist/PieChart.js\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport Pie from \"paths-js/pie\";\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { G, Path, Rect, Svg, Text } from \"react-native-svg\";\nimport AbstractChart from \"./AbstractChart\";\n\nvar PieChart = function (_super) {\n  __extends(PieChart, _super);\n\n  function PieChart() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PieChart.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        _b = _a.style,\n        style = _b === void 0 ? {} : _b,\n        backgroundColor = _a.backgroundColor,\n        _c = _a.absolute,\n        absolute = _c === void 0 ? false : _c,\n        _d = _a.hasLegend,\n        hasLegend = _d === void 0 ? true : _d,\n        _e = _a.avoidFalseZero,\n        avoidFalseZero = _e === void 0 ? false : _e;\n    var _f = style.borderRadius,\n        borderRadius = _f === void 0 ? 0 : _f;\n    var chart = Pie({\n      center: this.props.center || [0, 0],\n      r: 0,\n      R: this.props.height / 2.5,\n      data: this.props.data,\n      accessor: function accessor(x) {\n        return x[_this.props.accessor];\n      }\n    });\n    var total = this.props.data.reduce(function (sum, item) {\n      return sum + item[_this.props.accessor];\n    }, 0);\n    var slices = chart.curves.map(function (c, i) {\n      var value;\n\n      if (absolute) {\n        value = c.item[_this.props.accessor];\n      } else {\n        if (total === 0) {\n          value = 0 + \"%\";\n        } else {\n          var percentage = Math.round(100 / total * c.item[_this.props.accessor]);\n          value = Math.round(100 / total * c.item[_this.props.accessor]) + \"%\";\n\n          if (avoidFalseZero && percentage === 0) {\n            value = \"<1%\";\n          } else {\n            value = percentage + \"%\";\n          }\n        }\n      }\n\n      return React.createElement(G, {\n        key: Math.random(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }\n      }, React.createElement(Path, {\n        d: c.sector.path.print(),\n        fill: c.item.color,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }), hasLegend ? React.createElement(Rect, {\n        width: \"16px\",\n        height: \"16px\",\n        fill: c.item.color,\n        rx: 8,\n        ry: 8,\n        x: _this.props.width / 2.5 - 24,\n        y: -(_this.props.height / 2.5) + _this.props.height * 0.8 / _this.props.data.length * i + 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }\n      }) : null, hasLegend ? React.createElement(Text, {\n        fill: c.item.legendFontColor,\n        fontSize: c.item.legendFontSize,\n        fontFamily: c.item.legendFontFamily,\n        x: _this.props.width / 2.5,\n        y: -(_this.props.height / 2.5) + _this.props.height * 0.8 / _this.props.data.length * i + 12 * 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }\n      }, value + \" \" + c.item.name) : null);\n    });\n    return React.createElement(View, {\n      style: __assign({\n        width: this.props.width,\n        height: this.props.height,\n        padding: 0\n      }, style),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, React.createElement(Svg, {\n      width: this.props.width,\n      height: this.props.height,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, React.createElement(G, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, this.renderDefs(__assign({\n      width: this.props.height,\n      height: this.props.height\n    }, this.props.chartConfig))), React.createElement(Rect, {\n      width: \"100%\",\n      height: this.props.height,\n      rx: borderRadius,\n      ry: borderRadius,\n      fill: backgroundColor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }), React.createElement(G, {\n      x: this.props.width / 2 / 2 + Number(this.props.paddingLeft ? this.props.paddingLeft : 0),\n      y: this.props.height / 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, slices)));\n  };\n\n  return PieChart;\n}(AbstractChart);\n\nexport default PieChart;","map":{"version":3,"sources":["../src/PieChart.tsx"],"names":[],"mappings":"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","sourcesContent":["import Pie from \"paths-js/pie\";\nimport React from \"react\";\nimport { View, ViewStyle } from \"react-native\";\nimport { G, Path, Rect, Svg, Text } from \"react-native-svg\";\n\nimport AbstractChart, { AbstractChartProps } from \"./AbstractChart\";\n\nexport interface PieChartProps extends AbstractChartProps {\n  data: Array<any>;\n  width: number;\n  height: number;\n  accessor: string;\n  backgroundColor: string;\n  paddingLeft: string;\n  center?: Array<number>;\n  absolute?: boolean;\n  hasLegend?: boolean;\n  style?: Partial<ViewStyle>;\n  avoidFalseZero?: boolean;\n}\n\ntype PieChartState = {};\n\nclass PieChart extends AbstractChart<PieChartProps, PieChartState> {\n  render() {\n    const {\n      style = {},\n      backgroundColor,\n      absolute = false,\n      hasLegend = true,\n      avoidFalseZero = false\n    } = this.props;\n\n    const { borderRadius = 0 } = style;\n\n    const chart = Pie({\n      center: this.props.center || [0, 0],\n      r: 0,\n      R: this.props.height / 2.5,\n      data: this.props.data,\n      accessor: x => {\n        return x[this.props.accessor];\n      }\n    });\n\n    const total = this.props.data.reduce((sum, item) => {\n      return sum + item[this.props.accessor];\n    }, 0);\n\n    const slices = chart.curves.map((c, i) => {\n      let value: string;\n\n      if (absolute) {\n        value = c.item[this.props.accessor];\n      } else {\n        if (total === 0) {\n          value = 0 + \"%\";\n        } else {\n          const percentage = Math.round(\n            (100 / total) * c.item[this.props.accessor]\n          );\n          value = Math.round((100 / total) * c.item[this.props.accessor]) + \"%\";\n          if (avoidFalseZero && percentage === 0) {\n            value = \"<1%\";\n          } else {\n            value = percentage + \"%\";\n          }\n        }\n      }\n\n      return (\n        <G key={Math.random()}>\n          <Path d={c.sector.path.print()} fill={c.item.color} />\n          {hasLegend ? (\n            <Rect\n              width=\"16px\"\n              height=\"16px\"\n              fill={c.item.color}\n              rx={8}\n              ry={8}\n              x={this.props.width / 2.5 - 24}\n              y={\n                -(this.props.height / 2.5) +\n                ((this.props.height * 0.8) / this.props.data.length) * i +\n                12\n              }\n            />\n          ) : null}\n          {hasLegend ? (\n            <Text\n              fill={c.item.legendFontColor}\n              fontSize={c.item.legendFontSize}\n              fontFamily={c.item.legendFontFamily}\n              x={this.props.width / 2.5}\n              y={\n                -(this.props.height / 2.5) +\n                ((this.props.height * 0.8) / this.props.data.length) * i +\n                12 * 2\n              }\n            >\n              {`${value} ${c.item.name}`}\n            </Text>\n          ) : null}\n        </G>\n      );\n    });\n\n    return (\n      <View\n        style={{\n          width: this.props.width,\n          height: this.props.height,\n          padding: 0,\n          ...style\n        }}\n      >\n        <Svg width={this.props.width} height={this.props.height}>\n          <G>\n            {this.renderDefs({\n              width: this.props.height,\n              height: this.props.height,\n              ...this.props.chartConfig\n            })}\n          </G>\n          <Rect\n            width=\"100%\"\n            height={this.props.height}\n            rx={borderRadius}\n            ry={borderRadius}\n            fill={backgroundColor}\n          />\n          <G\n            x={\n              this.props.width / 2 / 2 +\n              Number(this.props.paddingLeft ? this.props.paddingLeft : 0)\n            }\n            y={this.props.height / 2}\n          >\n            {slices}\n          </G>\n        </Svg>\n      </View>\n    );\n  }\n}\n\nexport default PieChart;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}